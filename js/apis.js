window.MWEMBED_VERSION="2.98",window.SCRIPT_LOADER_URL="https://cdnapisec.kaltura.com/html5/html5lib/v2.98/load.php",function(e){"use strict";if(!window.kWidget){var t={startTime:{},loadTime:{},readyWidgets:{},widgetOriginalSettings:{},readyCallbacks:[],destroyedWidgets:{},perWidgetCallback:{},readyCallbackPerWidget:{},listenerList:{},userAgentPlayerRules:{},alreadyAddedThumbRules:!1,iframeAutoEmbedCache:{},iframeUrls:{},setup:function(){var e=this;mw.setConfig("version",MWEMBED_VERSION),this.checkEnvironment(),this.overrideFlashEmbedMethods(),this.proxyJsCallbackready(),this.domReady(function(){e.domIsReady=!0,e.proxyJsCallbackready()}),this.domReady(function(){e.rewriteObjectTags()})},checkEnvironment:function(){-1===document.URL.indexOf("forceMobileHTML5")||mw.getConfig("disableForceMobileHTML5")||mw.setConfig("forceMobileHTML5",!0),-1!==document.URL.indexOf("debugKalturaPlayer")&&mw.setConfig("debug",!0),-1!==document.URL.indexOf("forceKPlayer")&&mw.setConfig("EmbedPlayer.ForceKPlayer",!0);var e,i=navigator.userAgent,r=document.documentMode?["",document.documentMode]:i.match(/MSIE\s([0-9]+)/);((r&&parseInt(r[1])<9||-1!==document.URL.indexOf("forceFlash"))&&mw.setConfig("Kaltura.ForceFlashOnDesktop",!0),-1!=i.indexOf("BlackBerry")&&(mw.setConfig("EmbedPlayer.DisableVideoTagSupport",!0),mw.setConfig("EmbedPlayer.NotPlayableDownloadLink",!0)),-1!=i.indexOf("kalturaNativeCordovaPlayer"))&&(mw.setConfig("EmbedPlayer.ForceNativeComponent",!0),mw.getConfig("EmbedPlayer.IsIframeServer")||(e=this.isAndroid()?"/modules/EmbedPlayer/binPlayers/cordova/android/cordova.js":"/modules/EmbedPlayer/binPlayers/cordova/ios/cordova.js",document.write('<script src="'+this.getPath()+e+'"><\/script>'),document.write('<script src="'+this.getPath()+'/kWidget/cordova.kWidget.js"><\/script>')));if(/(iPhone|iPod|iPad)/i.test(i)&&(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(i)||/CPU like Mac OS X/i.test(i))&&mw.setConfig("Kaltura.UseAppleAdaptive",!1),mw.getConfig("EmbedPlayer.IsIframeServer")||(mw.setConfig("EmbedPlayer.IframeParentUrl",document.URL),mw.setConfig("EmbedPlayer.IframeParentTitle",document.title),mw.setConfig("EmbedPlayer.IframeParentReferrer",document.referrer),/(iPhone|iPod|iPad)/i.test(navigator.userAgent)&&/OS [1-5](.*) like Mac OS X/i.test(navigator.userAgent)&&(window.onpageshow=function(e){e.persisted&&(document.body.style.display="none",location.reload())})),mw.getConfig("Kaltura.SupressNonProductionUrlsWarning",!1)||-1!=mw.getConfig("Kaltura.ServiceUrl").indexOf("kaltura.com")&&-1==this.getPath().indexOf("i.kaltura.com")&&-1==this.getPath().indexOf("isec.kaltura.com")&&"kgit.html5video.org"!=window.location.host&&"player.kaltura.com"!=window.location.host&&"localhost"!=window.location.host&&console&&console.error&&console.error("Error: Using non-production version of kaltura player library. Please see http://knowledge.kaltura.com/production-player-urls"),mw.getConfig("EmbedPlayer.ForceNativeComponent")){window.kNativeSdk=window.kNativeSdk||{};var a=function(e){if("string"!=typeof e)return[];e=e.split(",");for(var t=[],i={dash:"application/dash+xml",mp4:"video/mp4",wvm:"video/wvm",hls:"application/vnd.apple.mpegurl"},r=0;r<e.length;r++)t.push(i[e[r]]);return t},n=t.getHashParam("nativeSdkDrmFormats")||"wvm",o=t.getHashParam("nativeSdkAllFormats")||"wvm,mp4,hls";window.kNativeSdk.drmFormats=a(n),window.kNativeSdk.allFormats=a(o)}},proxiedJsCallback:null,waitForLibraryChecks:!0,jsReadyCalledForIds:[],proxyJsCallbackready:function(){var e=this,t=function(t){e.waitForLibraryChecks?e.jsReadyCalledForIds.push(t):e.jsCallbackReady(t)};this.proxiedJsCallback||(this.proxiedJsCallback=window.jsCallbackReady||!0,window.jsCallbackReady=t),window.jsCallbackReady.toString()!=t.toString()&&(this.proxiedJsCallback=window.jsCallbackReady,window.jsCallbackReady=t)},jsCallbackReady:function(e){var t=this;if(t.log("jsCallbackReady for "+e),!this.destroyedWidgets[e]){var i=document.getElementById(e);if(!i||!i.evaluate)return this.callJsCallback(),void this.log("Error:: jsCallbackReady called on invalid player Id:"+e);this.extendJsListener(i),this.widgetOriginalSettings[e]&&i.kBind("kdpEmpty",function(){i.sendNotification("changeMedia",{entryId:t.widgetOriginalSettings[e].entry_id})});var r=i.evaluate("{playerStatusProxy.kdpVersion}");mw.versionIsAtLeast("v3.7.0",r)?t.log("Error: Unsuported KDP version"):i.kBind("mediaReady",function(){i.setKDPAttribute("playerStatusProxy","loadTime",(((new Date).getTime()-t.startTime[e])/1e3).toFixed(2))}),mw.getConfig("EmbedPlayer.IsIframeServer")||(document.onclick=function(){t.destroyedWidgets[i.id]||i.sendNotification("onFocusOutOfIframe")}),"function"==typeof this.proxiedJsCallback&&this.proxiedJsCallback(e),this.callJsCallback(e)}},callJsCallback:function(e){for(var t=0;t<this.readyCallbacks.length;t++)this.readyCallbacks[t](e);e&&(this.readyWidgets[e]=!0)},playerModeChecksDone:function(){this.waitForLibraryChecks=!1;for(var e=0;e<this.jsReadyCalledForIds.length;e++){var t=this.jsReadyCalledForIds[e];this.jsCallbackReady(t)}this.jsReadyCalledForIds=[]},isDownloadLinkPlayer:function(){return!!(window.location.href.indexOf("forceDownloadPlayer")>-1||mw.getConfig("EmbedPlayer.NotPlayableDownloadLink"))},embed:function(e,t){if(this.isDownloadLinkPlayer())return this.thumbEmbed(e,t,!0);var i=this;if("object"==typeof e&&((t=e).targetId||this.log("Error: Missing target element Id"),e=t.targetId),this.startTime[e]=(new Date).getTime(),t.flashvars||(t.flashvars={}),this.isMobileDevice()&&t.flashvars.layout&&(t.flashvars.layout.skin="kdark"),-1===document.URL.indexOf("forceKalturaNativeComponentPlayer")&&-1===document.URL.indexOf("forceKalturaNative")||(t.flashvars.nativeCallout={plugin:!0}),t.wid){var r=t.uiconf_id,a=t.flashvars.confFilePath?t.flashvars.confFilePath:t.flashvars.jsonConfig;if(r||a){var n=document.getElementById(e);if(!n)return this.log("Error: kWidget.embed could not find target: "+e),!1;if("kaltura_player_iframe_no_rewrite"!=n.getAttribute("name")){if("auto"==t.flashvars.localizationCode){var o=window.navigator.userLanguage||window.navigator.language;t.flashvars.localizationCode=o.split("-")[0]}try{n.innerHTML=""}catch(e){}if(d("width"),d("height"),this.destroyedWidgets[e]&&delete this.destroyedWidgets[e],!0!==mw.getConfig("Kaltura.ForceIframeEmbed")){if(t.readyCallback){var s=!this.perWidgetCallback[e];this.perWidgetCallback[e]=t.readyCallback,s&&this.addReadyCallback(function(t){t==e&&i.perWidgetCallback[t]&&i.perWidgetCallback[t](t)})}this.proxyJsCallbackready(),t.isHTML5=this.isUiConfIdHTML5(r);var l=[{kEmbedSettings:t}];this.loadUiConfJs(l,function(){i.proxyJsCallbackready(),function(){if(r&&i.userAgentPlayerRules&&i.userAgentPlayerRules[r]){var a=i.checkUserAgentPlayerRules(i.userAgentPlayerRules[r]);switch(a.mode){case"flash":if("object"==n.nodeName.toLowerCase())return;break;case"leadWithHTML5":t.isHTML5=i.isUiConfIdHTML5(r);break;case"forceMsg":var o=a.val;if(n&&n.parentNode){var s=document.createElement("div");s.style.backgroundColor="#000000",s.style.color="#a4a4a4",s.style.width=n.style.width,s.style.height=n.style.height,s.style.display="table-cell",s.style.verticalAlign="middle",s.style.textAlign="center",s.style.fontSize="1.5em",s.style.fontFamily="Arial",s.style.fontWeight="normal",s.innerHTML=unescape(o),n.parentNode.replaceChild(s,n)}return}}mw.getConfig("EmbedPlayer.ForceNativeComponent")?i.outputCordovaPlayer(e,t):t.isHTML5?i.outputHTML5Iframe(e,t):i.outputFlashObject(e,t)}()})}else this.outputIframeWithoutApi(e,t)}}else this.log("Error: kWidget.embed missing uiconf_id or confFile")}else this.log("Error: kWidget.embed missing wid");function d(e){t[e]&&(parseInt(t[e])==t[e]&&(t[e]+="px"),n.style[e]=t[e])}},outputCordovaPlayer:function(e,t){var i=this;cordova&&cordova.kWidget?cordova.kWidget.embed(e,t):setTimeout(function(){i.outputCordovaPlayer(e,t)},500)},addThumbCssRules:function(){if(!this.alreadyAddedThumbRules){this.alreadyAddedThumbRules=!0;var e=document.createElement("STYLE");e.type="text/css";var t=this.getPath()+"/modules/MwEmbedSupport/skins/common/images/",i=".kWidgetCentered {max-height: 100%; max-width: 100%; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto; } \n.kWidgetPlayBtn { cursor:pointer;height: 53px;width: 70px;border-style: none;top: 50%; left: 50%; margin-top: -26.5px; margin-left: -35px; background: url('"+t+"player_big_play_button.png') ;z-index: 1;} \n.kWidgetAccessibilityLabel { font-size:0;height: 1px;overflow: hidden;display:block;position:absolute;} \n.kWidgetPlayBtn:hover{ background: url('"+t+"player_big_play_button_hover.png');\"} ";this.isIE()?e.styleSheet.cssText=i:e.innerHTML=i,document.getElementsByTagName("HEAD")[0].appendChild(e)}},getComputedSize:function(e,t){var i=navigator.userAgent;return-1!=i.indexOf("msie")&&-1==i.indexOf("opera")?document.getElementById(theElt)["offset"+t[0].toUpperCase()+t.substr(1)]:parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue(t))},thumbEmbed:function(e,i,r){this.isDownloadLinkPlayer()&&(r=!0);var a=this;"object"==typeof e?((i=e).targetId||this.log("Error: Missing target element Id"),e=i.targetId):i.targetId=e,i.flashvars||(i.flashvars={}),i.flashvars.autoPlay=!0,i.flashvars.thumbEmbedOrigin=!0,this.addThumbCssRules();var n=document.getElementById(e);n||this.log("Error could not find target id, for thumbEmbed"),n.innerHTML='<div style="position: relative; width: 100%; height: 100%;"><button aria-label="Play video content"  class="kWidgetCentered kWidgetPlayBtn" id="'+e+'_playBtn" ></button><img class="kWidgetCentered" src="'+this.getKalturaThumbUrl(i)+'" alt="Video thumbnail"></div>';var o=document.getElementById(e+"_playBtn");this.addEvent(o,"click",function(){if(i.readyCallback)var e=i.readyCallback;i.readyCallback=function(t){var i=document.getElementById(t);i.kBind("mediaReady",function(){setTimeout(function(){a.isMobileDevice()&&i.sendNotification("doPlay")},0)}),"function"==typeof e&&e(t)},i.captureClickEventForiOS=!0,r?window.open(a.getDownloadLink(i)):t.embed(i)}),i.thumbReadyCallback&&i.thumbReadyCallback(e)},destroy:function(e){if("string"==typeof e&&(e=document.getElementById(e)),e){var t=e.id,i=e.style.cssText,r=e.className,a=e.getAttribute("id");for(var n in this.readyWidgets)n==a&&delete this.readyWidgets[n];this.destroyedWidgets[a]=!0;var o=document.createElement("div");o.style.cssText=i,o.id=t,o.className=r,e.parentNode.replaceChild(o,e)}else this.log("Error destory called without valid target")},embedFromObjects:function(e){for(var t=0;t<e.length;t++){var i=e[t].kEmbedSettings;i.width=e[t].width,i.height=e[t].height,this.embed(e[t].id,e[t].kEmbedSettings)}},extendJsListener:function(e){var i=this;e.kBind=function(r,a){var n=0,o="",s=this;if("string"==typeof r){var l=r.split(".",2),d=l[1]?l[1]:"kWidget";r=l[0]}if("string"==typeof a)o=a;else{if("function"!=typeof a)return void t.log("Error: kWidget : bad callback type: "+a);var c=function(){o="kWidget_"+r+"_cb"+n,window[o]&&(n++,c())};c(),window[o]=function(){var e=Array.prototype.slice.call(arguments,0);mw.getConfig("debug")?setTimeout(function(){a.apply(s,e)},0):a.apply(s,e)}}return i.listenerList[d]||(i.listenerList[d]={}),i.listenerList[d][r]||(i.listenerList[d][r]=o),e.addJsListener(r,o),e},e.kUnbind=function(t,r){if("string"==typeof t){var a=t.split(".",2),n=a[1];if(t=a[0],n){for(var o in i.listenerList[n])t?o==t&&(e.removeJsListener(o,i.listenerList[n][o]),delete i.listenerList[n][o]):e.removeJsListener(o,i.listenerList[n][o]);i.listenerList[n]=null}else{var s="string"==typeof r;for(var n in s&&e.removeJsListener(t,r),i.listenerList)for(var o in i.listenerList[n])o==t&&(s||e.removeJsListener(t,i.listenerList[n][o]),delete i.listenerList[n][o])}}return e}},outputFlashObject:function(e,i,r){var a=(r=r||document).getElementById(e);if(a||a.parentNode){if(!i.src){var n=mw.getConfig("Kaltura.ServiceUrl")+"/index.php/kwidget/wid/"+i.wid+"/uiconf_id/"+i.uiconf_id;i.entry_id&&(n+="/entry_id/"+i.entry_id),i.cache_st&&(n+="/cache_st/"+i.cache_st),i.src=n}i.id=a.id,a.setAttribute("id",a.id+"_container");var o=r.createElement("span");i.flashvars||(i.flashvars={}),i.flashvars.jsCallbackReadyFunc&&t.log("Error: Setting jsCallbackReadyFunc is not compatible with kWidget embed"),mw.getConfig("debug",!0)&&(i.flashvars.debug=!0);var s=this.flashVarsToString(i.flashvars),l={allowFullScreen:"true",allowNetworking:"all",allowScriptAccess:"always",bgcolor:"#000000"},d='<object style="'+a.style.cssText.replace(/^\s+|\s+$/g,"")+';display:block;"  class="'+a.className+'"  id="'+e+'" name="'+e+'"';if(d+=' data="'+i.src+'" type="application/x-shockwave-flash"',window.ActiveXObject&&(d+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'),d+=">",d+='<param name="movie" value="'+i.src+'" />',d+='<param name="flashvars" value="'+s+'" />',i.params)for(var c in i.params)l[c]?l[c]=i.params[c]:d+='<param name="'+c+'" value="'+i.params[c]+'" />';for(var c in l)l[c]&&(d+='<param name="'+c+'" value="'+l[c]+'" />');d+="</object>";var u=function(){a.parentNode.replaceChild(o,a),o.innerHTML=d};window.console&&(window.console.firebug||window.console.exception)?(console.log("Warning firebug + firefox and dynamic flash kdp embed causes lockups in firefox, ( delaying embed )"),this.domReady(function(){setTimeout(function(){u()},2e3)})):-1!=navigator.userAgent.indexOf("MSIE")?setTimeout(function(){u()},0):u()}else t.log("Error embed target missing")},createIframe:function(e,t){var i=t.id+"_ifp",r=document.createElement("iframe");r.id=i,r.scrolling="no",r.name=i,r.className="mwEmbedKalturaIframe",r.setAttribute("title","The Kaltura Dynamic Video Player"),r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("webkitallowfullscreen",!0),r.setAttribute("mozallowfullscreen",!0),r.setAttribute("allow","autoplay *; fullscreen *; encrypted-media *"),r.style.cssText="border:0px; max-width: 100%; max-height: 100%; width:100%;height:100%;";try{var a=t.style.height?t.style.height:t.offsetHeight;if(this.isIOS()&&parseInt(a)>0){r.style.height=a;var n=setTimeout(function(){r.style.height="100%"},6e3);window.addEventListener("message",function(e){"layoutBuildDone"===e.data&&(r.style.height="100%",clearTimeout(n))},!1)}}catch(e){this.log("Error when trying to set iframe height: "+e.message)}return r},createIframeProxy:function(e){var t=document.createElement("div");t.id=e.id,t.name=e.name;var i=e.className?" "+e.className:"";return t.className="kWidgetIframeContainer"+i,t.style.cssText=e.style.cssText+";overflow: hidden",t},createContentInjectCallback:function(e,i,r,a,n){var o=this;window[e]=function(s){var l=i.contentWindow.document;(o.isFirefox()?l.open("text/html","replace"):l.open(),l.write(s.content),mw.getConfig("EmbedPlayer.DisableContextMenu")&&l.getElementsByTagName("body")[0].setAttribute("oncontextmenu","return false;"),l.close(),o.isInlineScriptRequest(a)&&t.storage.isSupported())&&(null==t.storage.getWithTTL(r)&&o.cachePlayer(r,s.content,n));window[e]=null}},createContentUpdateCallback:function(e,i,r,a,n){var o=this;window[e]=function(n){o.isInlineScriptRequest(r)&&t.storage.isSupported()&&o.cachePlayer(i,n.content,a),window[e]=null}},getProtocol:function(){var e=window.location.protocol.slice(0,-1);return e.match("^http")?e:"https"},requestPlayer:function(t,i,r,a,n){var o=this;if(t.length>2083){this.log("Warning iframe requests ("+t.length+") exceeds 2083 charachters, won't cache on CDN.");var s=this.getIframeUrl(),l=t;document.documentMode&&document.documentMode<10&&n.flashvars.jsonConfig?(jsonConfig=n.flashvars.jsonConfig,delete n.flashvars.jsonConfig,s+="?"+this.getIframeRequest(i,n),l={jsonConfig:jsonConfig},s+="&protocol="+this.getProtocol()):s+="?protocol="+this.getProtocol(),e.ajax({type:"POST",dataType:"text",url:s,data:l}).done(function(e){var t={content:e};window[a](t)}).fail(function(e){o.log("Error in player iframe request")})}else{var d=this.getIframeUrl()+"?"+t;d+="&protocol="+this.getProtocol(),this.iframeUrls[r]=d,this.appendScriptUrl(d+"&callback="+a)}},isStorageMaxLimitExceeded:function(e){var i=e.flashvars["Kaltura.MaxCacheEntries"]||mw.getConfig("Kaltura.MaxCacheEntries");return t.storage.getEntriesCount()>=i},cachePlayer:function(e,i,r){t.storage.setWithTTL(e,i,r)?this.log("Player data stored in cache!"):this.log("Error: unable to store Player data in cache!")},outputHTML5Iframe:function(e,i){var r=document.getElementById(e),a=this.createIframe(e,r),n=this.createIframeProxy(r);n.appendChild(a),r.parentNode.replaceChild(n,r);var o=JSON.parse(JSON.stringify(i));if(this.isInlineScriptRequest(o)?(o=this.getRuntimeSettings(o),this.widgetOriginalSettings[r.id]=i,mw.setConfig("widgetOriginalSettings_"+r.id,i)):i.flashvars.inlineScript=!1,i.captureClickEventForiOS&&(this.isSafari()&&!this.isChrome()||this.isAndroid()))this.captureClickWrapedIframeUpdate(e,o,a);else{var s=this.getIframeCbName(e),l=this.getIframeRequest(r,o),d=i.flashvars["Kaltura.CacheTTL"]||mw.getConfig("Kaltura.CacheTTL");if(this.createContentInjectCallback(s,a,l,o,d),this.iframeAutoEmbedCache[e])window[s](this.iframeAutoEmbedCache[e]);else{var c=null;t.storage.isSupported()&&(c=t.storage.getWithTTL(l)),!mw.getConfig("debug")&&c&&"null"!=c&&(window[s]({content:c}),s+="updateAsync",this.createContentUpdateCallback(s,l,o,d)),t.storage.isSupported()&&this.isStorageMaxLimitExceeded(i)&&t.storage.clearNS(),this.requestPlayer(l,r,e,s,o)}}},getIframeCbName:function(e){for(var t=0,i="mwi_"+e.replace(/[^0-9a-zA-Z]/g,""),r=i+t;window[r];)this.log("Warning: iframe callback already defined: "+r),r=i+ ++t;return r},resizeOvelayByHolderSize:function(e,t,i){var r=e.width/e.height,a={width:t.width*i,height:t.height*i},n=t.width-e.width,o=t.height-e.height,s={width:0,height:0};return n>0&&o>0?(s.width=e.width,s.height=e.height):n>0&&o<=0?(s.height=a.height,s.width=s.height*r):n<=0&&o>0?(s.width=a.width,s.height=s.width/r):n<=0&&o<=0&&(n<=o?(s.width=a.width,s.height=s.width/r):(s.height=a.height,s.width=s.height*r)),s},captureClickWrapedIframeUpdate:function(e,t,i){var r,a=document.getElementById(e),n=i.contentDocument;n.open();var o=location.protocol&&location.protocol.slice(0,-1)||"https";r=o+"://www.kaltura.com/p/243342/sp/24334200/playManifest/entryId/1_vp5cng42/flavorId/1_6wf0o9n7/format/url/protocol/"+o+"/a.mp4",n.write('<html><head></head><body><div class="mwPlayerContainer"  style="width: 100%; height: 100%"><div class="videoHolder"><div class="videoDisplay"><video class="persistentNativePlayer" id="'+e+'" kwidgetid="'+t.wid+'" kentryid="'+t.entry_id+'" kuiconfid="'+t.uiconf_id+'" src="'+r+'" style="width:100%;height:100%" ></video></div></div></div><script>document.getElementById(\''+e+'\').play();<\/script><div id="scriptsHolder"></div></body></html>'),n.close();var s=this.getIframeCbName(e);window[s]=function(e){var t=i.contentDocument.getElementsByTagName("head")[0]||i.documentElement;t.innerHTML=e.rawHead,i.contentDocument.getElementById("scriptsHolder").innerHTML=e.rawScripts;for(var r,a,n=function(e){var t=e.text||e.textContent||e.innerHTML||"",r=i.contentDocument.getElementsByTagName("head")[0]||i.documentElement,a=i.contentDocument.createElement("script");a.type="text/javascript",a.appendChild(document.createTextNode(t)),r.insertBefore(a,r.firstChild),e.parentNode&&e.parentNode.removeChild(e)},o=[],s=(t.childNodes,i.contentDocument.getElementById("scriptsHolder").childNodes),l=0;s[l];l++)!o||(r=s[l],a="script",!r.nodeName||r.nodeName.toUpperCase()!==a.toUpperCase())||s[l].type&&"text/javascript"!==s[l].type.toLowerCase()||o.push(s[l].parentNode?s[l].parentNode.removeChild(s[l]):s[l]);for(var d in o)n(o[d])},this.appendScriptUrl(this.getIframeUrl()+"?"+this.getIframeRequest(a,t)+"&callback="+s+"&parts=1")},isInlineScriptRequest:function(e){return!mw.getConfig("debug")&&!this.isMobileDevice()&&!!e.flashvars.inlineScript},getRuntimeSettings:function(e){var t={},i=mw.getConfig("Kaltura.AllowedVars");i=i.split(",");var r=mw.getConfig("Kaltura.AllowedVarsKeyPartials");r=r.split(",");var a=mw.getConfig("Kaltura.AllowedPluginVars");a=a.split(",");var n=mw.getConfig("Kaltura.AllowedPluginVarsValPartials");for(var o in n=n.split(","),e)if("entry_id"!=o)if("flashvars"!=o)t[o]=e[o];else{var s=t[o]={},l=e[o];for(var d in l){if("object"!=typeof l[d]){var c=l[d];if([].indexOf.call(i,d,0)>-1){s[d]=c;continue}for(var u in r)d.indexOf(r[u])>-1&&(s[d]=c)}if("object"==typeof l[d]){var f=s[d]={},g=l[d];for(var h in g){var m=g[h];if([].indexOf.call(a,h,0)>-1)f[h]=m;else if("string"==typeof m)for(var u in n)m.indexOf(n[u])>-1&&(f[h]=g[h])}}}}return t},getIframeRequest:function(e,i){var r=this.embedSettingsToUrl(i);return r+="&playerId="+e.id,mw.getConfig("debug")&&(r+="&debug=true"),mw.getConfig("Kaltura.KWidgetPsPath")&&(r+="&pskwidgetpath="+mw.getConfig("Kaltura.KWidgetPsPath")),mw.getConfig("Kaltura.AllowIframeRemoteService")&&-1===mw.getConfig("Kaltura.ServiceUrl").indexOf("kaltura.com")&&-1===mw.getConfig("Kaltura.ServiceUrl").indexOf("kaltura.org")&&(r+=t.serviceConfigToUrl()),mw.getConfig("Kaltura.NoApiCache")&&(r+="&nocache=true"),this.isUiConfIdHTML5(i.uiconf_id)&&(r+="&forceMobileHTML5=true"),r+="&urid="+MWEMBED_VERSION},getIframeUrl:function(){var e=this.getPath();return!0===mw.getConfig("Kaltura.ForceIframeEmbed")&&(e=e.replace("localhost","127.0.0.1")),e+"mwEmbedFrame.php"},getPath:function(){return SCRIPT_LOADER_URL.replace("load.php","")},outputIframeWithoutApi:function(e,t){var i=document.getElementById(e),r=this.getIframeUrl()+"?"+this.getIframeRequest(i,t)+"&iframeembed=true",a=document.getElementById(e),n=a.parentNode,o=document.createElement("iframe");o.src=r,o.id=e,o.width=t.width?t.width.replace(/px/,""):"100%",o.height=t.height?t.height.replace(/px/,""):"100%",o.className=a.className?" "+a.className:"",o.style.cssText=a.style.cssText,o.style.border="0px",o.style.overflow="hidden",n.replaceChild(o,a)},addReadyCallback:function(e){for(var t in this.readyWidgets)document.getElementById(t)&&e(t);this.readyCallbacks.push(e),this.proxyJsCallbackready()},rewriteObjectTags:function(){var e=this.getKalutaObjectList(),t=this;if(e.length)if(this.isMissingUiConfJs(e))this.loadUiConfJs(e,function(){t.rewriteObjectTags()});else{var i=mw.getConfig("Kaltura.ServiceUrl");if(mw.getConfig("Kaltura.AllowIframeRemoteService")||i&&-1!==i.indexOf("kaltura.com")||(mw.setConfig("Kaltura.IframeRewrite",!1),mw.setConfig("Kaltura.UseManifestUrls",!1)),this.isHTML5FallForward())this.embedFromObjects(e);else{for(var r=0;r<e.length;r++)this.isUiConfIdHTML5(e[r].kEmbedSettings.uiconf_id)&&this.embedFromObjects([e[r]]);this.supportsFlash()||this.supportsHTML5()||mw.getConfig("Kaltura.ForceFlashOnDesktop")?this.playerModeChecksDone():this.embedFromObjects(e)}}else this.playerModeChecksDone()},uiConfScriptLoadList:{},inLoaderUiConfJsDone:!1,inLoaderUiConfJsCallbackSet:[],inLoaderUiConfJsCallback:function(){for(this.inLoaderUiConfJsDone=!0;this.inLoaderUiConfJsCallbackSet.length;)this.inLoaderUiConfJsCallbackSet.shift()()},isMissingUiConfJs:function(e){if(0==this.inLoaderUiConfJsDone)return!0;if(0==e.length||!mw.getConfig("Kaltura.EnableEmbedUiConfJs")||mw.getConfig("EmbedPlayer.IsIframeServer"))return!1;for(var t=0;t<e.length;t++){var i=e[t].kEmbedSettings;if(!this.uiConfScriptLoadList[i.uiconf_id])return!0}return!1},uiConfScriptLoadListCallbacks:{},loadUiConfJs:function(t,i){var r=this,a=function(){r.inLoaderUiConfJsDone?i():r.inLoaderUiConfJsCallbackSet.push(i)},n=this.getPath()+"services.php?service=uiconfJs";if(mw.getConfig("Kaltura.KWidgetPsPath")&&(n+="&pskwidgetpath="+mw.getConfig("Kaltura.KWidgetPsPath")),this.isMissingUiConfJs(t)){for(var o=!1,s=0;s<t.length;s++)!function(t){if(!r.uiConfScriptLoadList[t.uiconf_id]){o=!0;var i="kUiConfJs_"+s+"_"+t.uiconf_id;if(r.uiConfScriptLoadListCallbacks[i])r.uiConfScriptLoadListCallbacks[i].push(a);else{r.uiConfScriptLoadListCallbacks[i]=[a],window[i]=function(){for(var e in r.uiConfScriptLoadList[t.uiconf_id]=!0,r.uiConfScriptLoadListCallbacks[i])r.uiConfScriptLoadListCallbacks[i].hasOwnProperty(e)&&"function"==typeof r.uiConfScriptLoadListCallbacks[i][e]&&r.uiConfScriptLoadListCallbacks[i][e]()};var l=n+r.embedSettingsToUrl(t)+"&callback="+i;l.length>4096?(r.log("Warning iframe requests ("+l.length+") exceeds 4096 characters, won't cache on CDN."),e.ajax({type:"POST",dataType:"text",url:r.getIframeUrl(),data:r.embedSettingsToUrl(t)}).done(function(e){var t={content:e};window[i](t)}).fail(function(e){r.log("Error in player iframe request")})):r.appendScriptUrl(l)}}}(t[s].kEmbedSettings);o||a()}else a()},log:function(e){if(("undefined"==typeof mw||mw.getConfig("debug"))&&"undefined"!=typeof console&&console.log)if(this.isIE8())try{console.log("kWidget: "+e)}catch(e){}else console.log("kWidget: "+e)},supportsHTML5:function(){return!mw.getConfig("EmbedPlayer.DisableVideoTagSupport")&&!!document.createElement("video").canPlayType},supportsHTMLPlayerUI:function(){return this.supportsHTML5()||this.isIE8()&&this.supportsFlash()},supportsFlash:function(){return!mw.getConfig("EmbedPlayer.DisableHTML5FlashFallback")&&!(this.getFlashVersion().split(",").shift()<10)},getFlashVersion:function(){if(navigator.plugins&&navigator.plugins.length)try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}try{try{if("undefined"!=typeof ActiveXObject){var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{e.AllowScriptAccess="always"}catch(e){return"6,0,0"}}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}return"0,0,0"},isIOS:function(){return-1!=navigator.userAgent.indexOf("iPhone")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPad")},isFirefox:function(){return-1!=navigator.userAgent.indexOf("Firefox")},isIE:function(){return/\bMSIE\b/.test(navigator.userAgent)},isIE8:function(){return 8===document.documentMode},isAndroid:function(){return-1!==navigator.userAgent.indexOf("Android ")&&-1===navigator.userAgent.indexOf("Windows")},isSafari:function(){return/safari/.test(navigator.userAgent.toLowerCase())},isChrome:function(){return/chrome/.test(navigator.userAgent.toLowerCase())},isWindowsDevice:function(){return-1!=navigator.appVersion.indexOf("Win")&&(-1!=navigator.appVersion.indexOf("Phone")||-1!=navigator.appVersion.indexOf("CE"))},isMobileDevice:function(){return this.isIOS()||this.isIpadOS()||this.isAndroid()||this.isWindowsDevice()||mw.getConfig("EmbedPlayer.ForceNativeComponent")||!0===mw.getConfig("EmbedPlayer.SimulateMobile")},isChromeCast:function(){return/CrKey/.test(navigator.userAgent)},isIpadOS:function(){return this.isSafari()&&this.isTouchDevice&&!this.isIOS()},isTouchDevice:function(){return!!("ontouchstart"in window)||!0===mw.getConfig("EmbedPlayer.EnableMobileSkin")&&!0===mw.getConfig("EmbedPlayer.SimulateMobile")},isUiConfIdHTML5:function(e){var t=this.isHTML5FallForward();this.userAgentPlayerRules&&this.userAgentPlayerRules[e]&&("leadWithHTML5"==this.checkUserAgentPlayerRules(this.userAgentPlayerRules[e]).mode&&(t=this.supportsHTMLPlayerUI()));return t},isHTML5FallForward:function(){if(this.isIOS()||mw.getConfig("forceMobileHTML5"))return!0;if((mw.getConfig("KalturaSupport.LeadWithHTML5")||mw.getConfig("Kaltura.LeadWithHTML5"))&&this.supportsHTMLPlayerUI())return!0;if(this.isAndroid())return!mw.getConfig("EmbedPlayer.UseFlashOnAndroid")||!t.supportsFlash();if(t.supportsFlash())return!1;if(mw.getConfig("Kaltura.ForceFlashOnIE10")){navigator.userAgent;if(10===document.documentMode)return!1}return!mw.getConfig("Kaltura.ForceFlashOnDesktop")&&(!!t.supportsHTML5()||!!mw.getConfig("Kaltura.IframeRewrite"))},getDownloadLink:function(e){var t=this.getPath()+"modules/KalturaSupport/download.php/wid/"+e.wid;e.uiconf_id&&(t+="/uiconf_id/"+e.uiconf_id),e.entry_id&&(t+="/entry_id/"+e.entry_id);var i=this.flashVarsToString(e.flashvars),r=e.ks;return t+=r?"/?ks="+r+i:"/?"+i.substr(1,i.length)},getKalturaThumbUrl:function(e){if(e.flashvars&&void 0!==e.flashvars.thumbnailUrl)return e.flashvars.thumbnailUrl;var t="";"100%"!=e.width&&e.width&&(t+="/width/"+parseInt(e.width)),"100%"!=e.height&&e.height&&(t+="/height/"+parseInt(e.height)),e.height||e.width||(t+="/height/480");var i="";e.vid_sec&&(i+="/vid_sec/"+e.vid_sec),e.vid_slices&&(i+="/vid_slices/"+e.vid_slices),e.ks&&(i+="/ks/"+e.ks),e.flashvars&&e.flashvars.ks&&(i+="/ks/"+e.flashvars.ks);var r={};e.flashvars&&e.flashvars.referenceId&&(r.referenceId=e.flashvars.referenceId),e.p&&!e.partner_id&&(e.partner_id=e.p),!e.partner_id&&e.wid&&(e.partner_id=e.wid.replace("_",""));var a=e.entry_id?"/entry_id/"+e.entry_id:"";return this.getPath()+"modules/KalturaSupport/thumbnail.php/p/"+e.partner_id+"/uiconf_id/"+e.uiconf_id+a+t+i+"?"+this.flashVarsToUrl(r)},getEmbedSettings:function(e,t){var i={};if("string"==typeof t&&(t=this.flashVars2Object(t)),t||(t={}),!e)return{};i.flashvars=t;for(var r=e.split("/"),a=null;r.length;){var n=r.pop();switch(n){case"p":i.wid="_"+a,i.p=a;break;case"wid":i.wid=a,i.p=a.replace(/_/,"");break;case"entry_id":i.entry_id=a;break;case"uiconf_id":case"ui_conf_id":i.uiconf_id=a;break;case"cache_st":i.cache_st=a}a=n.replace(/^\s+|\s+$/g,"")}for(var o in t){var s=t[o];"entryid"==(o=o.toLowerCase())&&(i.entry_id=s),"uiconfid"==o&&(i.uiconf_id=s),"widgetid"!=o&&"widget_id"!=o||(i.wid=s),"partnerid"!=o&&"partner_id"!=o||(i.wid="_"+s,i.p=s),"referenceid"==o&&(i.reference_id=s)}return i.cache_st||(i.cache_st=1),i},flashVars2Object:function(e){for(var t=e?e.split("&"):[],i={},r=0;r<t.length;r++){var a=t[r].split("=");a[0]&&a[1]&&(i[a[0]]=a[1])}return i},flashVarsToString:function(e){var t="";for(var i in e)if("object"==typeof e[i])for(var r in e[i])t+="&"+encodeURIComponent(i)+"."+encodeURIComponent(r)+"="+encodeURIComponent(e[i][r]);else t+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e[i]);return t},flashVarsToUrl:function(e){var t="";for(var i in e){var r="object"==typeof e[i]?JSON.stringify(e[i]):e[i];t+="&flashvars["+encodeURIComponent(i)+"]="+encodeURIComponent(r)}return t+="&flashvars["+encodeURIComponent("parentDomain")+"]="+encodeURIComponent(document.URL)},pageHasAudioOrVideoTags:function(){return!1!==mw.getConfig("EmbedPlayer.RewriteSelector")&&""!=mw.getConfig("EmbedPlayer.RewriteSelector")&&(0!=document.getElementsByTagName("video").length||0!=document.getElementsByTagName("audio").length)},getKalutaObjectList:function(){var e=this,t=[],i=document.getElementsByTagName("object");!i.length&&document.getElementById("kaltura_player")&&(i=[document.getElementById("kaltura_player")]);for(var r=function(r,n){if(!r.match(/(kwidget|kdp)/gi))return!1;var o=e.getEmbedSettings(r,n);return!!(o&&o.uiconf_id&&o.wid)&&(i[a].kEmbedSettings=o,t.push(i[a]),!0)},a=0;a<i.length;a++)if(i[a]){for(var n="",o={},s=i[a].getElementsByTagName("param"),l=0;l<s.length;l++){var d=s[l].getAttribute("name").toLowerCase(),c=s[l].getAttribute("value");"data"!=d&&"src"!=d&&"movie"!=d||(n=c),"flashvars"==d&&(o=this.flashVars2Object(c))}r(n,o)||!i[a].getAttribute("data")||r(i[a].getAttribute("data"),o)}return t},jQueryLoadCheck:function(e){window.jQuery&&mw.versionIsAtLeast("1.7.2",window.jQuery.fn.jquery)?(window.kalturaJQuery=window.jQuery,e(window.jQuery,window.jQuery)):(window.jQuery&&(window.clientPagejQuery=window.jQuery.noConflict(),window.$=window.clientPagejQuery),this.appendScriptUrl(this.getPath()+"resources/jquery/jquery.min.js",function(){window.kalturaJQuery=window.jQuery.noConflict(),window.clientPagejQuery&&(window.jQuery=window.$=window.clientPagejQuery),e(window.kalturaJQuery,window.kalturaJQuery)}))},extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),i=0;i<t.length;i++){var r=t[i];if(r)for(var a in r)r[a]&&r[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=r[a]:(e[a]=e[a]||{},this.extend(e[a],r[a])):e[a]=r[a]}return e},param:function(e){var t="",i="";for(var r in e)t+=i+r+"="+encodeURIComponent(e[r]),i="&";return t},appendScriptUrls:function(e,i){t.log("appendScriptUrls");var r,a=this,n=0;if(0!=e.length)for(var o=0;o<e.length;o++)r=o,a.appendScriptUrl(e[r],function(){++n==e.length&&i&&i()});else i&&i()},appendScriptUrl:function(e,t,i,r){i||(i=window.document);var a=i.getElementsByTagName("head")[0]||i.documentElement,n=i.createElement("script");n.src=e;var o=!1;n.onload=n.onerror=n.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,arguments&&arguments[0]&&arguments[0].type&&"error"==arguments[0].type?"function"==typeof r&&r():"function"==typeof t&&t(),n.onload=n.onerror=n.onreadystatechange=null,a&&n.parentNode&&a.removeChild(n))},a.insertBefore(n,a.firstChild)},appendCssUrl:function(e,t){var i=(t=t||document).getElementsByTagName("head")[0],r=t.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",e),i.appendChild(r)},serviceConfigToUrl:function(){for(var e=["ServiceUrl","CdnUrl","ServiceBase","UseManifestUrls"],t="",i=0;i<e.length;i++)null!==mw.getConfig("Kaltura."+e[i])&&(t+="&"+e[i]+"="+encodeURIComponent(mw.getConfig("Kaltura."+e[i])));return t},addEvent:function(e,t,i,r){e.attachEvent?(e["e"+t+i]=i,e[t+i]=function(){e["e"+t+i](window.event)},e.attachEvent("on"+t,e[t+i])):e.addEventListener(t,i,!!r)},removeEvent:function(e,t,i){e.detachEvent?(e.detachEvent("on"+t,e[t+i]),e[t+i]=null):e.removeEventListener(t,i,!1)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},embedSettingsToUrl:function(e){var t="",i=["uiconf_id","entry_id","wid","p","cache_st"];for(var r in e)for(var a=0;a<i.length;a++)i[a]==r&&(t+="&"+r+"="+encodeURIComponent(e[r]));return t+=this.flashVarsToUrl(e.flashvars)},overrideFlashEmbedMethods:function(){var e=this,i=function(e,i,r,a){r&&(e.width=r),a&&(e.height=a),t.embed(i,e)};if(window.flashembed&&!window.originalFlashembed){window.originalFlashembed=window.flashembed,window.flashembed=function(r,a,n){e.domReady(function(){var e=t.getEmbedSettings(a.src,n);if(!e.uiconf_id||!t.isHTML5FallForward()&&t.supportsFlash())return originalFlashembed(r,a,n);document.getElementById(r).innerHTML='<div style="width:100%;height:100%" id="'+a.id+'"></div>',i(e,a.id,a.width,a.height)})};for(var r=["asString","getHTML","getVersion","isSupported"],a=0;a<r.length;a++)window.flashembed[r[a]]=originalFlashembed}window.SWFObject&&!window.SWFObject.prototype.originalWrite&&(window.SWFObject.prototype.originalWrite=window.SWFObject.prototype.write,window.SWFObject.prototype.write=function(r){var a=this;e.domReady(function(){var e=t.getEmbedSettings(a.attributes.swf,a.params.flashVars);!e.uiconf_id||!t.isHTML5FallForward()&&t.supportsFlash()?a.originalWrite(r):i(e,r,a.attributes.width,a.attributes.height)})}),window.swfobject&&!window.swfobject.originalEmbedSWF&&(window.swfobject.originalEmbedSWF=window.swfobject.embedSWF,window.swfobject.embedSWF=function(r,a,n,o,s,l,d,c,u,f){e.domReady(function(){var e=t.getEmbedSettings(r,d);!e.uiconf_id||!t.isHTML5FallForward()&&t.supportsFlash()?window.swfobject.originalEmbedSWF(r,a,n,o,s,l,d,c,u,f):i(e,a,n,o)})})}};window.KWidget=t,window.kWidget=t}}(window.jQuery),this.JSON||(this.JSON={}),function(){function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,r,a,n,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(n=l.length,i=0;i<n;i+=1)o[i]=str(i,l)||"null";return a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(n=rep.length,i=0;i<n;i+=1)"string"==typeof(r=rep[i])&&(a=str(r,l))&&o.push(quote(r)+(gap?": ":":")+a);else for(r in l)Object.hasOwnProperty.call(l,r)&&(a=str(r,l))&&o.push(quote(r)+(gap?": ":":")+a);return a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,a}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var r;if(gap="",indent="","number"==typeof i)for(r=0;r<i;r+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,r,a=e[t];if(a&&"object"==typeof a)for(i in a)Object.hasOwnProperty.call(a,i)&&(void 0!==(r=walk(a,i))?a[i]=r:delete a[i]);return reviver.call(e,t,a)}if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){t.deprecatedGlobals=function(){var e={kIsIOS:"isIOS",kSupportsHTML5:"supportsHTML5",kGetFlashVersion:"getFlashVersion",kSupportsFlash:"supportsFlash",kalturaIframeEmbed:"embed",kOutputFlashObject:"outputFlashObject",kIsHTML5FallForward:"isHTML5FallForward",kIframeWithoutApi:"outputIframeWithoutApi",kDirectDownloadFallback:"outputDirectDownload",kGetKalturaEmbedSettings:"getEmbedSetting",kGetKalturaPlayerList:"getKalutaObjectList",kCheckAddScript:"rewriteObjectTags",kAddScript:"loadHTML5Lib",kPageHasAudioOrVideoTags:"pageHasAudioOrVideoTags",kLoadJsRequestSet:"loadRequestSet",kOverideJsFlashEmbed:"overrideFlashEmbedMethods",kDoIframeRewriteList:"embedFromObjects",kEmbedSettingsToUrl:"embedSettingsToUrl",kGetAdditionalTargetCss:"getAdditionalTargetCss",kAppendCssUrl:"appendCssUrl",kAppendScriptUrl:"appendScriptUrl",kFlashVars2Object:"flashVars2Object",kFlashVarsToUrl:"flashVarsToUrl",kFlashVarsToString:"flashVarsToString",kServiceConfigToUrl:"serviceConfigToUrl",kRunMwDomReady:"rewriteObjectTags",restoreKalturaKDPCallback:!1};for(var i in e)!function(i){window[i]=function(){if(!1!==e[i]){t.log(i+" is deprecated. Please use kWidget."+e[i]);var r=Array.prototype.slice.call(arguments,0);if("function"==typeof t[e[i]])return t[e[i]].apply(t,r);t.log("Error kWidget missing method: "+e[i])}else t.log(i+" is deprecated. This method no longer serves any purpose.")}}(i)},t.deprecatedGlobals()}(window.mw,window.kWidget),function(e){var t=window.DomReady={},i=navigator.userAgent.toLowerCase(),r={version:(i.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(i),opera:/opera/.test(i),msie:/msie/.test(i)&&!/opera/.test(i),mozilla:/mozilla/.test(i)&&!/(compatible|webkit)/.test(i)},a=!1,n=!1,o=[];function s(){if(!n&&(n=!0,o)){for(var e=0;e<o.length;e++)o[e].call(window,[]);o=[]}}function l(){if(!a){var e,t,i;if(a=!0,document.addEventListener&&!r.opera&&document.addEventListener("DOMContentLoaded",s,!1),r.msie&&window==top&&function(){if(!n){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}s()}}(),r.opera&&document.addEventListener("DOMContentLoaded",function(){if(!n){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].disabled)return void setTimeout(arguments.callee,0);s()}},!1),r.safari)!function(){if(!n)if("loaded"==document.readyState||"complete"==document.readyState){if(void 0===e){for(var t=document.getElementsByTagName("link"),i=0;i<t.length;i++)"stylesheet"==t[i].getAttribute("rel")&&e++;var r=document.getElementsByTagName("style");e+=r.length}document.styleSheets.length==e?s():setTimeout(arguments.callee,0)}else setTimeout(arguments.callee,0)}();t=s,i=window.onload,"function"!=typeof window.onload?window.onload=t:window.onload=function(){i&&i(),t()}}}t.ready=function(e,t){l(),n||/loaded|complete/.test(document.readyState)?e.call(window,[]):o.push(function(){return e.call(window,[])})},l(),e.domReady=t.ready}(window.kWidget);var logIfInIframe="undefined"!=typeof preMwEmbedConfig&&preMwEmbedConfig["EmbedPlayer.IsIframeServer"]?" ( iframe ) ":"";kWidget.log("Kaltura HTML5 Version: "+MWEMBED_VERSION+logIfInIframe),window.mw||(window.mw={}),window.preMwEmbedReady||(window.preMwEmbedReady=[]),window.preMwEmbedConfig||(window.preMwEmbedConfig={}),mw.setConfig||(mw.setConfig=function(e,t){if(void 0!==t)window.preMwEmbedConfig[e]=t;else if("object"==typeof e)for(var i in e)window.preMwEmbedConfig[i]=e[i]}),mw.getConfig||(mw.getConfig=function(e,t){return void 0===window.preMwEmbedConfig[e]?void 0!==t?t:null:window.preMwEmbedConfig[e]}),mw.versionIsAtLeast||(mw.versionIsAtLeast=function(e,t){void 0===t&&(t=window.MWEMBED_VERSION),e=e.replace(/[^\d.-]/g,""),t=t.replace(/[^\d.-]/g,"");for(var i=e.split("."),r=t.split("."),a=0;a<i.length;a++){if(parseInt(r[a])>parseInt(i[a]))return!0;if(parseInt(r[a])<parseInt(i[a]))return!1}return!0}),mw.ready||(mw.ready=function(e){window.preMwEmbedReady.push(e)}),mw.getKalturaThumbUrl=function(e){return kWidget.log("mw.getKalturaThumbUrl is deprecated. Please use kWidget.getKalturaThumbUrl"),kWidget.getKalturaThumbUrl(e)},kWidget.getUserAgentPlayerRulesMsg=function(e){return kWidget.checkUserAgentPlayerRules(e,!0)},kWidget.addUserAgentRule=function(e,t,i){var r=0;if(kWidget.userAgentPlayerRules[e])for(r in kWidget.userAgentPlayerRules[e].rules);else kWidget.userAgentPlayerRules[e]={rules:{},actions:{}};var a=parseInt(r)+1;kWidget.userAgentPlayerRules[e].rules[a]={regMatch:t},kWidget.userAgentPlayerRules[e].actions[a]={mode:i,val:1}},kWidget.checkUserAgentPlayerRules=function(e,t){var i=mw.getConfig("KalturaSupport_ForceUserAgent")?mw.getConfig("KalturaSupport_ForceUserAgent"):navigator.userAgent,r={mode:"flash",val:!0},a={mode:"forceMsg",val:mw.getConfig("strings.ks-no-flash-installed")?mw.getConfig("strings.ks-no-flash-installed"):"Flash does not appear to be installed or active. Please install or activate Flash."};if(kWidget.isIE8()&&!kWidget.supportsFlash())return a;if(!e.rules)return r;var n=function(t){return e.actions&&e.actions[t]?e.actions[t]:r};for(var o in e.rules){var s=e.rules[o];if(s.match){if(-1!==i.indexOf(s.match))return n(o)}else if(s.regMatch){var l=s.regMatch.replace(/(^\/)|(\/$)/g,"");if(new RegExp(l).test(i))return n(o)}}return r},function(e){e.seconds2npt=function(t,i){if(isNaN(t))return e.log("Warning: mediawiki.UtilitiesTime, trying to get npt time on NaN:"+t),"0:00:00";var r=e.seconds2Measurements(t);return r.seconds=i?Math.round(1e3*r.seconds)/1e3:Math.round(r.seconds),r.seconds<10&&(r.seconds="0"+r.seconds),0==r.hours?hoursStr="":(r.minutes<10&&(r.minutes="0"+r.minutes),hoursStr=r.hours+":"),hoursStr+r.minutes+":"+r.seconds},e.npt2seconds=function(e){if(!e)return 0;var t=0,i=0,r=0,a=(e=e.replace(/npt:|s/g,"")).split(":");return 3==a.length?(r=a[2],i=a[1],t=a[0]):2==a.length?(r=a[1],i=a[0]):r=a[0],r=r.replace(/,\s?/,"."),parseInt(3600*t)+parseInt(60*i)+parseFloat(r)},e.seconds2Measurements=function(e){var t={};return t.days=Math.floor(e/86400),t.hours=Math.floor(Math.round(e)/3600),t.minutes=Math.floor(Math.round(e)/60%60),t.seconds=Math.round(e)%60,t},e.getSliceCount=function(e){return e<60?Math.round(e)+1:e<120?Math.round(e/1.5)+1:e<240?Math.round(e/2)+1:200},e.getThumbSpriteOffset=function(t,i,r,a){return-e.getSliceIndexForTime(i,r,a)*t+"px 0px"},e.getSliceIndexForTime=function(e,t,i){var r=i||this.getSliceCount(t),a=e/t;return Math.ceil(r*a)},e.sanitize=function(e){return e&&(e=e.replace(/<(?:.|\n)*?>/gm,"")),e},e.getHashParam=function(e){var t=window.location.hash;if(t)for(var i=t.split("&"),r=0;r<i.length;r++)if(-1!==i[r].indexOf(e+"="))return i[r].split("=")[1];return!1}}(window.kWidget),function(e){"use strict";function t(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function i(e,i,r,a,n,o){return t((s=t(t(i,e),t(a,o)))<<(l=n)|s>>>32-l,r);var s,l}function r(e,t,r,a,n,o,s){return i(t&r|~t&a,e,t,n,o,s)}function a(e,t,r,a,n,o,s){return i(t&a|r&~a,e,t,n,o,s)}function n(e,t,r,a,n,o,s){return i(t^r^a,e,t,n,o,s)}function o(e,t,r,a,n,o,s){return i(r^(t|~a),e,t,n,o,s)}function s(e,i){e[i>>5]|=128<<i%32,e[14+(i+64>>>9<<4)]=i;var s,l,d,c,u,f=1732584193,g=-271733879,h=-1732584194,m=271733878;for(s=0;s<e.length;s+=16)l=f,d=g,c=h,u=m,g=o(g=o(g=o(g=o(g=n(g=n(g=n(g=n(g=a(g=a(g=a(g=a(g=r(g=r(g=r(g=r(g,h=r(h,m=r(m,f=r(f,g,h,m,e[s],7,-680876936),g,h,e[s+1],12,-389564586),f,g,e[s+2],17,606105819),m,f,e[s+3],22,-1044525330),h=r(h,m=r(m,f=r(f,g,h,m,e[s+4],7,-176418897),g,h,e[s+5],12,1200080426),f,g,e[s+6],17,-1473231341),m,f,e[s+7],22,-45705983),h=r(h,m=r(m,f=r(f,g,h,m,e[s+8],7,1770035416),g,h,e[s+9],12,-1958414417),f,g,e[s+10],17,-42063),m,f,e[s+11],22,-1990404162),h=r(h,m=r(m,f=r(f,g,h,m,e[s+12],7,1804603682),g,h,e[s+13],12,-40341101),f,g,e[s+14],17,-1502002290),m,f,e[s+15],22,1236535329),h=a(h,m=a(m,f=a(f,g,h,m,e[s+1],5,-165796510),g,h,e[s+6],9,-1069501632),f,g,e[s+11],14,643717713),m,f,e[s],20,-373897302),h=a(h,m=a(m,f=a(f,g,h,m,e[s+5],5,-701558691),g,h,e[s+10],9,38016083),f,g,e[s+15],14,-660478335),m,f,e[s+4],20,-405537848),h=a(h,m=a(m,f=a(f,g,h,m,e[s+9],5,568446438),g,h,e[s+14],9,-1019803690),f,g,e[s+3],14,-187363961),m,f,e[s+8],20,1163531501),h=a(h,m=a(m,f=a(f,g,h,m,e[s+13],5,-1444681467),g,h,e[s+2],9,-51403784),f,g,e[s+7],14,1735328473),m,f,e[s+12],20,-1926607734),h=n(h,m=n(m,f=n(f,g,h,m,e[s+5],4,-378558),g,h,e[s+8],11,-2022574463),f,g,e[s+11],16,1839030562),m,f,e[s+14],23,-35309556),h=n(h,m=n(m,f=n(f,g,h,m,e[s+1],4,-1530992060),g,h,e[s+4],11,1272893353),f,g,e[s+7],16,-155497632),m,f,e[s+10],23,-1094730640),h=n(h,m=n(m,f=n(f,g,h,m,e[s+13],4,681279174),g,h,e[s],11,-358537222),f,g,e[s+3],16,-722521979),m,f,e[s+6],23,76029189),h=n(h,m=n(m,f=n(f,g,h,m,e[s+9],4,-640364487),g,h,e[s+12],11,-421815835),f,g,e[s+15],16,530742520),m,f,e[s+2],23,-995338651),h=o(h,m=o(m,f=o(f,g,h,m,e[s],6,-198630844),g,h,e[s+7],10,1126891415),f,g,e[s+14],15,-1416354905),m,f,e[s+5],21,-57434055),h=o(h,m=o(m,f=o(f,g,h,m,e[s+12],6,1700485571),g,h,e[s+3],10,-1894986606),f,g,e[s+10],15,-1051523),m,f,e[s+1],21,-2054922799),h=o(h,m=o(m,f=o(f,g,h,m,e[s+8],6,1873313359),g,h,e[s+15],10,-30611744),f,g,e[s+6],15,-1560198380),m,f,e[s+13],21,1309151649),h=o(h,m=o(m,f=o(f,g,h,m,e[s+4],6,-145523070),g,h,e[s+11],10,-1120210379),f,g,e[s+2],15,718787259),m,f,e[s+9],21,-343485551),f=t(f,l),g=t(g,d),h=t(h,c),m=t(m,u);return[f,g,h,m]}function l(e){var t,i="";for(t=0;t<32*e.length;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function d(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<8*e.length;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function c(e){var t,i,r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function u(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return l(s(d(e),8*e.length))}(u(e))}function g(e,t){return function(e,t){var i,r,a=d(e),n=[],o=[];for(n[15]=o[15]=void 0,a.length>16&&(a=s(a,8*e.length)),i=0;i<16;i+=1)n[i]=909522486^a[i],o[i]=1549556828^a[i];return r=s(n.concat(d(t)),512+8*t.length),l(s(o.concat(r),640))}(u(e),u(t))}e.md5=function(e,t,i){return t?i?g(t,e):c(g(t,e)):i?f(e):c(f(e))}}(this),function(e,t,i){"use strict";var r,a="kalturaCache__",n=!0;!function(){try{if("localStorage"in t&&null!=t.localStorage&&null!=t.localStorage){r=window.localStorage;var e=new Date;r.setItem(e,e);var i=r.getItem(e)!=e;r.removeItem(e),i&&(n=!1)}else n=!1}catch(e){n=!1}}();var o={get:function(e){return r.getItem(a+i(e))},getWithTTL:function(e){var t=this.get(e);if(t){var n=r.getItem(a+i(e)+"_ttl");n&&n-(new Date).getTime()<0&&(this.deleteKey(i(e)),this.deleteKey(i(e)+"_ttl"),t=null)}return t},set:function(e,t){var n=!0;try{r.setItem(a+i(e),t)}catch(e){this.isQuotaExceeded(e)&&(n=!1)}return n},setWithTTL:function(e,t,n){var o=this.set(e,t);try{o&&(r.setItem(a+i(e)+"_ttl",(new Date).getTime()+n),o=!0)}catch(t){this.isQuotaExceeded(t)&&(this.deleteKey(e),o=!1)}return o},deleteKey:function(e){r.removeItem(a+i(e))},clearNS:function(){var e,t=[];for(e=0;e<r.length;e+=1)0===r.key(e).indexOf(a)&&t.push(r.key(e));for(e=0;e<t.length;e+=1)r.removeItem(t[e])},getEntriesCount:function(){var e,t,i,n=0;for(e=0;e<r.length;e+=1)i=(t=r.key(e)).match("_ttl$"),0===t.indexOf(a)&&null===i&&(n+=1);return n},isSupported:function(){return n},isQuotaExceeded:function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}};e.storage=o}(window.kWidget,window,md5),function(e){"use strict";e||(e=window.kWidget={}),e.api=function(e){return this.init(e)},e.api.prototype={ks:null,type:"auto",callbackIndex:0,baseParam:{apiVersion:"3.1",expiry:"86400",clientTag:"kwidget:v"+window.MWEMBED_VERSION,format:9,ignoreNull:1},init:function(e){for(var t in e)this[t]=e[t];this.serviceUrl||(this.serviceUrl=mw.getConfig("Kaltura.ServiceUrl")),this.serviceBase||(this.serviceBase=mw.getConfig("Kaltura.ServiceBase")),this.statsServiceUrl||(this.statsServiceUrl=mw.getConfig("Kaltura.StatsServiceUrl")),void 0===this.disableCache&&(this.disableCache=mw.getConfig("Kaltura.NoApiCache"))},setKs:function(e){this.ks=e},getKs:function(){return this.ks},forceKs:function(t,i,r){if(this.getKs())return i(this.getKs()),!0;var a=this,n={action:"startwidgetsession",widgetId:t},o=e.extend({service:"session"},this.baseParam,n);this.doRequest(o,function(e){a.ks=e.ks,i(a.ks)},null,r)},doRequest:function(t,i,r,a,n,o){var s=this,l={},d=null;for(var c in!0===this.disableCache&&(l.nocache="true"),this.baseParam)void 0===l[c]&&(l[c]=this.baseParam[c]);"user"==t.service||r?e.extend(l,t):e.extend(l,this.handleKsServiceRequest(t)),l.format=1,l.kalsig=this.hashCode(e.param(l));var u=l.service;delete l.service;var f=setTimeout(function(){d&&(window[d]=void 0),a&&a()},mw.getConfig("Kaltura.APITimeout")),g=function(e){clearTimeout(f),(e=e||[]).length>1&&"session"==l["1:service"]&&!n&&(s.setKs(e[0].ks),2==e.length?e=e[1]:e.shift()),i&&(i(e),i=null)},h=(navigator.userAgent.toLowerCase(),document.documentMode&&document.documentMode<=10);try{if(h)throw"forceJSONP";this.xhrRequest(s.getApiUrl(u,o),l,function(e){g(e)})}catch(t){l.format=9,delete l.kalsig;var m=this.hashCode(e.param(l));l.kalsig=m;var p=s.getApiUrl(u)+"&"+e.param(l);d="kapi_"+m,window[d]&&(this.callbackIndex++,d+=this.callbackIndex),window[d]=function(e){g(e),window[d]=void 0;try{delete window[d]}catch(e){}},p+="&callback="+d,e.appendScriptUrl(p)}},xhrRequest:function(t,i,r){this["auto"==this.type?e.param(i).length>2e3?"xhrPost":"xhrGet":"GET"==this.type?"xhrGet":"xhrPost"](t,i,r)},parseResponse:function(e){var t=e;try{t=JSON.parse(e)}catch(e){}return t},xhrGet:function(t,i,r){var a=this,n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&r(a.parseResponse(n.responseText))},n.open("GET",t+"&"+e.param(i),!0),n.send()},xhrPost:function(t,i,r,a){var n=this,o=new XMLHttpRequest;if(o.onreadystatechange=function(){4==o.readyState&&200==o.status&&r(n.parseResponse(o.responseText))},o.open("POST",t,!0),a){for(var s in a)a.hasOwnProperty(s)&&o.setRequestHeader(s,a[s]);o.send(i)}else o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(e.param(i))},handleKsServiceRequest:function(e){var t={};if(e.ks&&(this.ks=e.ks),e.length||this.getKs()||(e=[e]),e.length){t.service="multirequest",t.action="null";var i=1;this.getKs()||(t[i+":service"]="session",t[i+":action"]="startWidgetSession",t[i+":widgetId"]=this.wid,i=2);for(var r=0;r<e.length;r++){var a=i+r;for(var n in t[a+":ks"]=this.getKs()?this.getKs():"{1:result:ks}",e[r])if("object"==typeof e[r][n])for(var o in e[r][n])t[a+":"+n+":"+o]=this.parseParam(e[r][n][o]);else t[a+":"+n]=this.parseParam(e[r][n])}}else(t=e).ks=this.getKs();return t},parseParam:function(e){var t=e;if(!this.getKs()&&void 0!==t){var i=t.toString().match(/\{(\d+)(:result:.*)\}/);if(i)t="{"+(parseInt(i[1])+1)+i[2]+"}"}return t},getApiUrl:function(e,t){var i=mw.getConfig("Kaltura.ServiceUrl");return e&&"stats"==e&&mw.getConfig("Kaltura.StatsServiceUrl")&&(i=mw.getConfig("Kaltura.StatsServiceUrl")),e&&"liveStats"==e&&mw.getConfig("Kaltura.LiveStatsServiceUrl")&&(i=mw.getConfig("Kaltura.LiveStatsServiceUrl")),e&&"analytics"==e&&mw.getConfig("Kaltura.AnalyticsUrl")&&(i=mw.getConfig("Kaltura.AnalyticsUrl")),t&&(i=mw.getConfig(t)),i+mw.getConfig("Kaltura.ServiceBase")+e},hashCode:function(e){return md5(e)}}}(window.kWidget),mw.setConfig("debug",!1),mw.setConfig("Mw.XmlProxyUrl","https://cdnapisec.kaltura.com/html5/html5lib/v2.98/simplePhpXMLProxy.php"),mw.setConfig("Kaltura.UseManifestUrls",!0),mw.setConfig("Kaltura.Protocol","https"),mw.setConfig("Kaltura.ServiceUrl","https://cdnapisec.kaltura.com"),mw.setConfig("Kaltura.thumbAssetServiceUrl","https://cdnapisec.kaltura.com"),mw.setConfig("Kaltura.playManifestServiceUrl","https://cdnapisec.kaltura.com"),mw.setConfig("Kaltura.ServiceBase","/api_v3/index.php?service="),mw.setConfig("Kaltura.CdnUrl","https://cfvod.kaltura.com"),mw.setConfig("Kaltura.StatsServiceUrl","https://stats.kaltura.com"),mw.setConfig("Kaltura.LiveStatsServiceUrl","https://livestats.kaltura.com"),mw.setConfig("Kaltura.AnalyticsUrl","https://analytics.kaltura.com"),mw.setConfig("Kaltura.IframeRewrite",!0),mw.setConfig("EmbedPlayer.EnableIpadHTMLControls",!0),mw.setConfig("EmbedPlayer.UseFlashOnAndroid",!0),mw.setConfig("Kaltura.LoadScriptForVideoTags",!0),mw.setConfig("Kaltura.AllowIframeRemoteService",!1),mw.setConfig("Kaltura.UseAppleAdaptive",!0),mw.setConfig("Kaltura.EnableEmbedUiConfJs",!1),mw.setConfig("Kaltura.PageGoogleAnalytics",!1),mw.setConfig("Kaltura.SupressNonProductionUrlsWarning",""),mw.setConfig("Kaltura.APITimeout","10000"),mw.setConfig("Kaltura.kWidgetPsUrl","https://cdnapisec.kaltura.com/html5/html5lib/v2.98/../kwidget-ps/ps"),mw.setConfig("Kaltura.CacheTTL","600000"),mw.setConfig("Kaltura.MaxCacheEntries","1"),mw.setConfig("Kaltura.AllowedVars","inlineScript"),mw.setConfig("Kaltura.AllowedVarsKeyPartials","onPageJs,onPageCss,IframeCustomPluginJs,IframeCustomPluginCss"),mw.setConfig("Kaltura.AllowedPluginVars","plugin,templatePath,templates,iframeHTML5Js,iframeHTML5Css,loadInIframe"),mw.setConfig("Kaltura.AllowedPluginVarsValPartials","{html5ps}"),mw.setConfig("Kaltura.UserLanguage",[]),kWidget.addUserAgentRule("51107693","/.*/","leadWithHTML5"),kWidget.appendScriptUrls([],function(){window.kWidget.inLoaderUiConfJsCallback()}),kWidget.uiConfScriptLoadList[51107693]=1,kWidget.setup();
